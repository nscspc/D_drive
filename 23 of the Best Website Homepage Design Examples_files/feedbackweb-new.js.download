!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};e[r].call(o.exports,o,o.exports,t);o.l=!0;return o.exports}t.m=e;t.c=n;t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})};t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};t.d(n,"a",n);return n};t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};t.p="//static.hsappstatic.net/feedback-web-renderer-ui/static-1.890/";t(t.s=474)}({15:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(e){var n=!0,t=[],r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){e.apply(void 0,n)})};return function(o){n&&0===t.length&&(n=e(r));t.push(o);return function(){var e=t.length;t=t.filter(function(e){return e!==o});n&&0===t.length&&e>0&&n()}}};e.exports=n.default},17:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=o(t(15));function o(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,r.default)(function(r){e.addEventListener(n,r,t);return function(){e.removeEventListener(n,r,t)}})};e.exports=n.default},30:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=function(){function e(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){t.push(i.value);if(n&&t.length===n)break}}catch(e){o=!0;a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function i(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}n.getOrigin=function(e){if(!e||""===e)return".*";var n=e.split("/");return n[0]+"//"+n[2]},n.getQueryParams=function(){return location.search.slice(1).split("&").reduce(function(e,n){var t=n.split("="),a=o(t,2),s=a[0],u=a[1];return r({},e,i({},s,u))},{})};var s=function(e,n){return encodeURIComponent(e)+"="+encodeURIComponent(n)};n.toQueryParams=function(e){return Object.keys(e).reduce(function(n,t){var r=e[t];return[].concat(a(n),a(Array.isArray(r)?r.map(function(e){return s(t,e)}):[s(t,r)]))},[]).join("&")}},41:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});n.FETCHER="fetcher",n.UI="ui",n.PREVIEW="preview"},44:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});n.getParentSender=n.getIframeSender=void 0;var r=t(6),o=function(e,n,t){return function(o,a){n.postMessage(JSON.stringify({payload:{channel:e,payload:{messageType:o,payload:a}},type:r.FEEDBACK_TYPE}),t&&""!==t?t:"*")}};n.getIframeSender=function(e,n){return o(e,n.contentWindow,n.src)},n.getParentSender=function(e){return o(e,window.parent,document.referrer)}},45:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});n.parentListener=void 0;var r=t(6),o=i(t(17)),a=t(30);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e,n){var t=(0,o.default)(window,"message");return function(o){return t(function(t){var a=t.data,i=t.origin,s=t.source;if(a&&e.test(i)){var u=void 0;try{u=JSON.parse(a)}catch(e){return}var l=u,d=l.payload,c=l.type;if(d&&c===r.FEEDBACK_TYPE){var f=d.channel,p=d.payload;f===n&&o(p,i,s)}}})}};n.parentListener=function(e){return s(new RegExp((0,a.getOrigin)(document.referrer)),e)};n.default=s},474:function(e,n,t){"use strict";"use es6";var r,o=function(){function e(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){t.push(i.value);if(n&&t.length===n)break}}catch(e){o=!0;a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=E(t(41)),s=E(t(6)),u=E(t(88)),l=E(t(475)),d=y(t(476)),c=E(t(477)),f=y(t(478)),p=E(t(69)),h=E(t(70)),m=t(44),v=y(t(45)),b=y(t(479)),w=y(t(17));function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);n.default=e;return n}function g(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function _(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(0,f.default)(p.baseStyleSheet);var P=window._hsq=window._hsq||[],I={portalId:c.portalId,isPreview:c.isPreview,isTest:c.isTest},T="https://"+(c.isPreview&&/local/.test(location.origin)||c.useLocalRenderer?"local":"app")+".hubspot"+("prod"===c.env?"":"qa")+".com",S={},A=function(e){var n=e.messageType,t=e.payload;switch(n){case s.SURVEY_FETCHED:U(i.UI,s.SETUP,{mode:u.STANDARD,payload:a({pageTitle:document.title,pageUrl:location.href,portalId:c.portalId,response:t,windowWidth:innerWidth},I)})}},O=function(){var e=S[i.UI];return e&&e.data&&e.data.parent.className.indexOf("shown")>=0},x=(0,m.getParentSender)(i.PREVIEW),C=function(e){var n=e.messageType,t=e.payload;k(i.UI,function(e){var r=e.parent;switch(n){case s.SHOW:var o=t.classes,a=t.surveyId,i=t.surveyType,u=[].concat(_(o),_(c.isPreview?["preview"]:[])).join(" ").toLowerCase();c.liveTest||void 0===a||P.push(["trackFeedbackView",{surveyId:a,surveyType:i}]);r.baseClasses=u;r.className="shown "+u;break;case s.HIDE:r.className="";break;case s.RESIZE_POPUP:var l=t.newHeight,d=t.newWidth;r.style.width=d?d+"px":null;r.style.height=l+"px";r.className=(O()?"shown":"")+" "+(r.baseClasses||"");break;default:x(n,t)}})},M=function(e){var n=e.sender;(0,b.default)(function(e){O()||n(s.LOCATION_CHANGE,e)})},D=function(e){return function(){e(s.UPDATE,{pageTitle:document.title,pageUrl:location.href,windowWidth:innerWidth})}},N=function(e){var n=e.sender,t=D(n);(0,b.default)(t);(0,w.default)(window,"resize")(t);var r=new d.default(e);window.hsFeedback=r;return{client:r}},R=(g(r={},i.FETCHER,{onInit:M,handleMessages:A,parentAttrs:{id:p.FETCHER_ID},path:l.FETCHER}),g(r,i.UI,{onInit:N,handleMessages:C,parentAttrs:{id:p.UI_ID},path:l.UI}),r),j=function(e){var n=R[e],t=n.path,r=n.parentAttrs,o=h.createNode("iframe",{frameborder:0,src:T+"/"+t}),a=h.createNode("div",r);h.insertNode(a,o);h.insertNode(document.body,a);return[o,a]},k=function(e,n){if(S[e])S[e](n);else{var t=[n];S[e]=function(e){t.push(e)};var r=j(e),i=o(r,2),u=i[0],l=i[1],d=(0,m.getIframeSender)(e,u),c=(0,v.default)(new RegExp(T),e),f=c(function(n){if(n.messageType===s.READY){var r=R[e],o=r.handleMessages,i=r.onInit;c(o);f();var p={frame:u,parent:l,subscribe:c,sender:d};p=a({},p,i(p)||{});var h=function(e){e(p)};S[e]=h;h.data=p;t.forEach(S[e])}})}},U=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(e,function(e){(0,e.sender)(n,t)})};if(!c.isBot)if(c.livePreview||c.isPreview){var W=void 0,H={pageUrl:location.href};k(i.UI,function(e){var n=e.sender;if(c.livePreview){W=u.LIVE_PREVIEW;H={livePreviewId:c.livePreviewId}}else{W=u.PREVIEW;window.feedbackWebPreview.setup(n)}n(s.SETUP,{mode:W,payload:a({},I,H)})})}else if(c.isHubspot){I.hsEmail=c.hsEmail;U(i.FETCHER,s.SETUP,{email:c.hsEmail,pageUrl:location.href,portalId:c.portalId})}else P.push(["addCookieListener",function(e){if(e){var n=e.split(".")[1];I.utk=n;U(i.FETCHER,s.SETUP,{pageUrl:location.href,portalId:c.portalId,utk:n})}}])},475:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r="feedback-web";n.FETCHER=r+"-fetcher",n.UI=r+"-ui"},476:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=i(t(70)),o=i(t(6)),a=i(t(69));function i(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);n.default=e;return n}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var u=function e(n){var t=this,i=n.iframe,u=n.parent,l=n.sender;s(this,e);this.hide=function(){r.addClass(t.iframeWrapper,a.SLID_OUT_CLASS);window.setTimeout(function(){r.removeClass(t.iframeWrapper,a.SHOWN_CLASS)},500)};this.show=function(){r.removeClass(t.iframeWrapper,a.SLID_OUT_CLASS);r.addClass(t.iframeWrapper,a.SHOWN_CLASS)};this.expand=function(){t.sendToIframe(o.CHANGE_EXPANDED_STATE,!0)};this.minimize=function(){t.sendToIframe(o.CHANGE_EXPANDED_STATE,!1)};this.showOnMouseLeave=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function n(){e&&t.expand();t.show();document.removeEventListener("mouseleave",n)};document.addEventListener("mouseleave",n)};this.showOnScroll=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Math.max(document.body.offsetHeight,document.body.scrollHeight)-.5*window.innerHeight,r=function r(){if(window.innerHeight+document.body.scrollTop>n){e&&t.expand();t.show();document.removeEventListener("scroll",r)}};document.addEventListener("scroll",r)};this.iframe=i;this.sendToIframe=l;this.iframeWrapper=u;window.hsFeedback=this};n.default=u;e.exports=n.default},477:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r="hsWebSurveyPreview",o="hsWebSurveyTestId",a="data-hubspot-feedback-portal-id",i="data-hubspot-feedback-env",s="data-hubspot-feedback-hubspot-app",u="data-hubspot-feedback-hubspot-email",l=function(e){var n=document.querySelector("script["+e+"]");return n&&n.getAttribute(e)||null},d={};window.location.search.replace(/[(?|&)]([^=]+)=([^&#]+)/g,function(e,n,t){d[n]=t});var c=function(e){try{return"true"===localStorage.getItem(e)}catch(e){return!1}};n.env=l(i),n.portalId=l(a),n.livePreview=d[r],n.livePreviewId=d[o],n.isTest=Boolean(window.feedbackTestPage),n.isPreview=Boolean(window.feedbackWebPreview),n.isHubspot=Boolean(l(s)),n.hsEmail=l(u),n.useLocalRenderer=c("LOCAL_RENDERER"),n.isBot=/bot|python-requests|hubspot|phantomjs|bingpreview/i.test(navigator.userAgent)},478:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=document.head||document.getElementsByTagName("head")[0],o=function(e){var n=document.createElement("style");n.type="text/css";n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e));return n},a=function(e){r.appendChild(o(e))};n.default=a;e.exports=n.default},479:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=o(t(480));function o(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.default)(function(){return location.href});e.exports=n.default},480:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=o(t(15));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,n){return e===n};n.default=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return(0,r.default)(function(r){var o=e(),a=setInterval(function(){var t=e();if(!n(t,o)){o=t;r(t)}},t);return function(){clearInterval(a)}})};e.exports=n.default},6:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});n.FEEDBACK_TYPE="hubspot-servicehub-feedback",n.CHANGE_EXPANDED_STATE="change-expand",n.EXPAND="expand",n.HIDE="hide",n.PARENT_DETAILS="parent-details",n.PREVIEW="preview",n.READY="ready",n.RESIZE_POPUP="resize-popup",n.SETUP="setup",n.SHOW="show",n.SURVEY_FETCHED="fetched",n.UPDATE="update",n.WINDOW_RESIZED="win-resized"},69:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=.4,o=350,a=n.EXTENDED_CSAT_WIDTH=o+200,i=480,s=n.CALLOUT_MAX_WIDTH=450,u=Math.max(i,o,a,s),l=416,d=420,c=544,f=768,p=600,h=n.UI_ID="hs-feedback-ui",m=n.FETCHER_ID="hs-feedback-fetcher",v=n.EXTENDED_WIDTH_CLASS="extended-width",b=n.SHOWN_CLASS="shown",w=n.SLID_OUT_CLASS="slid-out",y=function(e,n){return"\n  @keyframes feedback-slide-in-"+e+" {\n    from {transform: translate(0, "+100*n+"%);}\n    to {transform: translate(0, 0);}\n  }\n\n  @keyframes feedback-slide-out-"+e+" {\n    from {transform: translate(0, 0);}\n    to {transform: translate(0, "+100*n+"%);}\n  }\n\n  #"+h+"."+e+" {\n    animation-name: feedback-slide-in-"+e+";\n  }\n\n  #"+h+"."+e+"."+w+" {\n    animation-name: feedback-slide-out-"+e+";\n    animation-fill-mode: forwards;\n  }\n"};n.baseStyleSheet="\n  #"+h+" {\n    animation-duration: "+r+"s;\n    animation-timing-function: ease-out;\n    display: none;\n    height: 0;\n    overflow: hidden;\n    position: fixed;\n    z-index: 2147483647;\n  }\n\n  #"+h+"."+b+" {\n    display: block;\n  }\n\n  #"+m+" {\n    position: fixed;\n    left: 1000%;\n  }\n\n  "+y("left",1)+"\n  "+y("right",1)+"\n  "+y("top",-1)+"\n\n  #"+h+" > iframe {\n    width: 100%;\n    height: 100%;\n  }\n\n  #"+h+":not(.top) {\n    bottom: 0;\n  }\n\n  #"+h+".left {\n    left: 0;\n  }\n\n  #"+h+".right {\n    right: 0;\n  }\n\n  .zorse #"+h+".right {\n    bottom: 6px;\n    right: 70px;\n  }\n\n  #"+h+".top {\n    left: 0;\n    top: 0;\n    width: 100%;\n  }\n\n  #"+h+".nps:not(.top) {\n    width: "+i+"px;\n  }\n\n  #"+h+".csat:not(.top) {\n    width: "+o+"px;\n  }\n\n  #"+h+".csat."+v+":not(.top) {\n    width: "+a+"px;\n  }\n\n  @media only screen and (min-width: "+c+"px) {\n    #"+h+".csat:not(.top):not(.expanded) {\n      width: "+s+";\n    }\n  }\n\n  #"+h+".csat."+v+":not(.top) {\n    width: "+a+"px !important;\n  }\n\n  #"+h+".preview.csat.callout:not(.top) {\n    width: "+s+"px;\n  }\n\n  @media only screen and (max-width: "+f+"px) {\n    #"+h+":not(.preview):not(.top), #"+h+"."+v+":not(.preview):not(.top) {\n      width: 100% !important;\n    }\n  }\n\n  @media only screen and (max-width: "+p+"px) {\n    #"+h+".preview:not(.top), #"+h+"."+v+".preview:not(.top) {\n      width: 100% !important;\n    }\n  }\n\n  #"+h+"."+b+" ~ #tally-widget-container,\n  #"+h+"."+b+" ~ #wootric-modal {\n    display: none !important;\n  }\n\n  /* hide all popups in the same position as us */\n  @media only screen and (min-width: "+c+"px) {\n    #"+h+".right."+b+" ~ #hubspot-messages-iframe-container,\n    #"+h+".right."+b+" ~ .leadinModal-theme-bottom-right-corner,\n    #"+h+".left."+b+"  ~ .leadinModal-theme-bottom-left-corner,\n    #"+h+".top."+b+"          ~ .leadinModal-theme-top {\n      display: none !important;\n    }\n  }\n\n  /* hide leadflows when we're tablet-stretched across from them */\n  @media only screen and (min-width: "+c+"px) and (max-width: "+Math.max(f,u+d)+"px) {\n    #"+h+".left."+b+"  ~ .leadinModal-theme-bottom-right-corner,\n    #"+h+".right."+b+" ~ .leadinModal-theme-bottom-left-corner {\n      display: none !important;\n    }\n  }\n\n  /* hide messages when we're tablet-stretched across from them */\n  @media only screen and (max-width: "+Math.max(f,u+l)+"px) {\n    #"+h+".left."+b+" ~ #hubspot-messages-iframe-container {\n      display: none !important;\n    }\n  }\n\n  @media only screen and (max-width: "+c+"px) {\n\n    /* repeat above rules for small screens when we're set to display on mobile */\n    #"+h+".right."+b+":not(.no-mobile) ~ #hubspot-messages-iframe-container,\n    #"+h+".left."+b+":not(.no-mobile)  ~ #hubspot-messages-iframe-container,\n    #"+h+".right."+b+":not(.no-mobile) ~ .leadinModal-theme-bottom-right-corner,\n    #"+h+".left."+b+":not(.no-mobile)  ~ .leadinModal-theme-bottom-left-corner,\n    #"+h+".top."+b+":not(.no-mobile)          ~ .leadinModal-theme-top,\n    #"+h+".left."+b+":not(.no-mobile)  ~ .leadinModal-theme-bottom-right-corner,\n    #"+h+".right."+b+":not(.no-mobile) ~ .leadinModal-theme-bottom-left-corner {\n      display: none !important;\n    }\n\n    /* don't display us on small screens if we're set to not display on mobile */\n    #"+h+".no-mobile {\n      display: none;\n    }\n  }\n"},70:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});var r=n.setAttrs=function(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])});return e},o=(n.createNode=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(document.createElement(e),n)},n.insertNode=function(e,n){var t=(e.childNodes||{})[0];if(t){e.insertBefore(n,t);return e}e.appendChild(n);return e},function(e){return e.replace(/(^ *| *$)/g,"").replace(/ +/g," ")});n.addClass=function(e,n){e.className=o(e.className+" "+n)},n.removeClass=function(e,n){e.className=o(e.className.replace(n,""))}},88:function(e,n,t){"use strict";"use es6";Object.defineProperty(n,"__esModule",{value:!0});n.LIVE_PREVIEW="live-preview",n.PREVIEW="preview",n.STANDARD="standard"}});
//# sourceMappingURL=popupInjector.js.map